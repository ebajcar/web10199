<!DOCTYPE html>
<html lang="en">
<head>
<title>creating user help</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--
Author: 		Ellen Bajcar
File name: 		tictactoe.css
Date Created:	Summer 2019
Date Updated: 
Version: 		2019.5.1 
Purpose: 		learning Javascript programming; assignment requirements
Copyright: 
    This work is the intellectual property of Sheridan College. 
    Any further copying and distribution outside of class must be within 
    the copyright law. Posting to commercial sites for profit is prohibited.
Description:
    See README.txt file.
-->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css"> 
<link rel="stylesheet" href="../css/style.css"> 
<link rel="stylesheet" href="../css/components.css">
<style>
td {
  background-color: white;
  border: 1px solid black;
  border-radius: 5px;
  min-width: 6em;
  margin:15px;
  padding: 0;
}
td:first-child, tr:first-child td {
  font-weight: bold;
}
main {
  min-height: 300px;
  }
footer ul {
  list-style-type: none;
}
footer dl {
  font-size: 1.2em;
}
</style>
</head>

<body>
  <header>
    <h2>Create user help from data structures</h2>
  </header>
  <main>  

  </main>
  <footer>
    <dl>
    <dt><h4>[Rules from wikipedia]</h4></dt>	
    <dd><kbd>Rock</kbd>&mdash; 		 crushes Scissors &mdash;or&mdash;  crushes Lizard</dd>
    <dd><kbd>Scissors</kbd>&mdash;   	cuts Paper &mdash;or&mdash;  decapitates Lizard</dd>
    <dd><kbd>Paper</kbd>&mdash;  		covers Rock &mdash;or&mdash;  disproves Spock</dd>
    <dd><kbd>Lizard</kbd>&mdash;   		eats Paper &mdash;or&mdash;  poisons Spock</dd>
    <dd><kbd>Spock</kbd>&mdash;   		vaporizes Rock &mdash;or&mdash;  smashes Scissors</dd>
    <dl>
    <p>SYST10199 Web Programming &copy; Sheridan College</p>
  </footer>
  <script>
/*
	(Rules from wikipedia)		
	Rock 		crushes Scissors or crushes Lizard
	Scissors 	cuts Paper or decapitates Lizard
	Paper 		covers Rock or disproves Spock
	Lizard 		eats Paper or poisons Spock
	Spock 		vaporizes Rock or smashes Scissors
*/
 	let whatCanThisChoiceBeat = { 
		rock : 		[["crushes", "scissors"], ["crushes", "lizard"]],
		paper : 	[["covers", "rock"], ["disproves", "spock"]],
		scissors :[["cuts","paper"], ["decapitates", "lizard"]],
		lizard : 	[["poisons", "spock"], ["eats", "paper"]],
		spock : 	[["vaporizes", "rock"], ["smashes", "scissors"]]
	}  
  let property; 
  for ( property in whatCanThisChoiceBeat ) {
    console.log( property + " " + whatCanThisChoiceBeat[property][0][0] + " " + whatCanThisChoiceBeat[property][0][1] );
    console.log( "OR " + property + " " + whatCanThisChoiceBeat[property][1][0] + " " + whatCanThisChoiceBeat[property][1][1] );
  }
    
let table = document.getElementsByTagName("main")[0].appendChild(document.createElement("table"));
let row = table.appendChild(document.createElement("tr"));
row.appendChild(document.createElement("td")).innerText = "➦ beats ➦";

// Object.keys() returns an array of keys (strings)
let choices = Object.keys(whatCanThisChoiceBeat);
let len = choices.length;
for (let i = 0; i < len; i++) {
  let currentTD = row.appendChild(document.createElement("td"));
  currentTD.innerText = choices[i];
}
let i = 0;
for ( property in whatCanThisChoiceBeat ) {
  let currentTR = table.appendChild(document.createElement("tr"));
  let currentTD = currentTR.appendChild(document.createElement("td"));
  currentTD.innerText = choices[i]; 
  i++;
  for (let j = 0; j < len; j++) {
    let currentTD = currentTR.appendChild(document.createElement("td"));

/*
The findIndex() method returns the index of the first element in an array that pass a test (provided as a function).
If it finds an array element where the function returns a true value, findIndex() returns the index of that array element (and does not check the remaining values)
Otherwise it returns -1
https://www.w3schools.com/jsref/jsref_findindex.asp
*/ 
    
 //   function whichColumn(currVal) {
 //     return (currVal == whatCanThisChoiceBeat[property][0][1]);
 //   }    
 
    // if whatCanThisChoiceBeat[property][0][1] is the same as indexOf choices, then display whatCanThisChoiceBeat[property][0][0]
    const whichColumn = (el) => el == whatCanThisChoiceBeat[property][0][1];
    if ( choices.findIndex(whichColumn) == j)
      currentTD.innerText = whatCanThisChoiceBeat[property][0][0];
    const whichColumn2 = (el) => el == whatCanThisChoiceBeat[property][1][1];
    if ( choices.findIndex(whichColumn2) == j)
      currentTD.innerText = whatCanThisChoiceBeat[property][1][0];    
  }
}
</script>	
</body>
</html>