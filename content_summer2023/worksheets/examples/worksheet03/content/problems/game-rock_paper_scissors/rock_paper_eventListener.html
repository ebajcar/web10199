<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissors</title>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width" />
<!--
File name: rock1.html
Author: Ellen Bajcar
Date created: 2015
Date modified: February 2018
Version: 1.0
Description:
	game of rock-paper-scissors
	human player vs. computer
	no images
-->		
<style>
body {
    text-align:center;
}
p {
    font-family:monospace;
}
#aimove { 
	display: block; 
	width: 600px; 
	margin: 0 auto; 
	height: 100px; 
	border: 1px dotted lightgray; 
}
</style>
</head>
<body>
	<h1>Rock&mdash;Paper&mdash;Scissors (no images)</h1>
	<div id="aimove"></div>
	<form>
		<label>Your move:</label>
		<select  size="3" id="move">
			<option value="rock">rock</option>
			<option value="paper">paper</option>
			<option value="scissors">scissors</option>
		</select>		
	</form>
	<p>
		<button id="greset">Reset game</button>
	</p> 
		
<script>
	var machine;
	var message = "";
	var choices = ["paper","scissors","rock"];
	var winner = { rock : "paper", paper : "scissors", scissors : "rock" };
	var aimove = document.getElementById("aimove");
	aimove.innerText = "Welcome!";
	// event: when the user selects an option
	document.getElementById("move").addEventListener("click", 
		function(){
			// machine choose randomly (1,2, or 3)
			machine = Math.floor((Math.random() * 3) + 1); 
			//get the value at corresponding index
			var csel = choices[machine-1]; 
			// get the user's choice
			var hsel = document.getElementById("move").value; 
			//console.log( "machine selected " + csel + " you selected " + hsel );
			if ( csel == hsel ) 
				message = " IT'S A TIE! "; 
			else
				winner[csel] == hsel 
					? message = " YOU WIN! " 
					: message = " MACHINE WINS! ";
			aimove.innerHTML = 
					"Computer chose: " + csel +
					"<br> You chose " + hsel+ 
					"<br>  " + message;
		}, true);
		
	// event: when the user clicks reset button
	document.getElementById("greset").addEventListener("click", 
			function(){ location.reload();});
</script>		
</body>
</html>
