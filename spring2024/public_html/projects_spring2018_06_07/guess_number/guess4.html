<!DOCTYPE html>
<html>
<head>
	<title>Guess Number 2</title>
	<meta charset="utf-8">
<!-- 
Author: Ellen Bajcar
Date: Winter 2018
Version: 1.0
Purpose: learning Javascript programming
Copyright: 
	This work is the intellectual property of Sheridan College. 
	Any further copying and distribution outside of class must be within 
	the copyright law. Posting to commercial sites for profit is prohibited.
Description:
	Web app that generates a random number between 1 and 10 (inclusive)
	and prompts the user to guess what the number is. The user's guess is
	compared to the random number and advises the user whether the guess is too
	low, too high, and there is a match.  The game ends when the user guesses the
	number.
-->	
</head>
<body>
    <header><h1>Example</h1></header>

		<!-- Prompt the user to guess a number between 1 and 10 -->
		<label>Guess a magic number between 1 and 10</label>
		<!-- capture and process user input on the click event -->
		<input type="number" id="guess" value="0" min="1" max="10">
		<p id="ans"></p>	

		<button id="reset">New Game</button>

	<footer><address>SYST10199 Web Programming @ Sheridan College</address></footer>
<script>
/*
	When the user chooses a number in the input element id=guess
	and clicks the element, the number is captured and processed.
	The response is displayed in the paragraph element id=ans.
	Need a handles for the ELEMENT OBJECTS (part of DOM).
*/
// name handles for ans (output) and guess (input)
var ans = document.getElementById("ans");
var guess = document.getElementById("guess");
// Generate a random number to be guessed
var y = Math.floor((Math.random() * 10) + 1);
console.log(y); // Temporary: so we can see what the number is
var x = 0;

// Determine whether the guess is the same as the number
// if yes, let the user know
// if no, determine if 
//        guess is higher than number, let user know
//        guess is lower than number, let user know	
guess.onchange = compare;
function compare() {
	x = parseInt(guess.value);	
	if ( x == y ) {
		ans.innerText = "Yes, your number " + x +"  matches " + y;
	} else if ( x < y ) 
		ans.innerText = "Your guess " + x +" is too low";
	else 
		ans.innerText = "Your guess " + x +" is too high";
}
      var form = document.querySelector('form');

// see https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_trigger_button_enter
guess.onclick = function(e) {
	if (guess.value > 10 || guess.value < 1) {
	  e.preventDefault();
	  ans.innerText = "Value out of range.";
	}
}
guess.addEventListener("keyup", function(event) {
    event.preventDefault();
	if (guess.value > 10 || guess.value < 1) 
		if (event.keyCode === 13) {
			ans.innerText = "Value out of range.";
		}
});
// reload page to start new game on click event for button id="reset"
document.getElementById("reset").onclick = function() {
	location.reload(); 
}
</script>
</body>
</html>