<!DOCTYPE html>
<html lang="en">
<head>
	<title>for Loop and name Attribute</title>
	<meta charset="utf-8">	
<!-- 
Author: Ellen Bajcar
Date: Summer 2018
Version: 1.0
Purpose: learning Javascript programming
Copyright: 
	This work is the intellectual property of Sheridan College. 
	Any further copying and distribution outside of class must be within 
	the copyright law. Posting to commercial sites for profit is prohibited.
Description:
	https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling#throw_statement
	The following example uses a try...catch statement. The example calls a function that retrieves a month name from an array based on the value passed to the function. If the value does not correspond to a month number (1-12), an exception is thrown with the value "InvalidMonthNo" and the statements in the catch block set the monthName variable to unknown.
-->	
<style>
body {
	margin: auto;
	width:80%;
}
select {
	min-width: 300px;
}
#result {
	font-size: 2em;
	color: darkorange;
}
</style>
</head>
<body>
	<header><h1>try...catch</h1></header>
	<input type="text" id="demo" value="" required>
	<button type="button" id="test">Test Input</button>
	<p id="mesg"></p>
	<footer><address>SYST10199 Web Programming &copy; Sheridan College</address></footer>

<script>
/*
https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Control_flow_and_error_handling#throw_statement
The following example uses a try...catch statement. The example calls a function that retrieves a month name from an array based on the value passed to the function. If the value does not correspond to a month number (1-12), an exception is thrown  and the statements in the catch block set the monthName variable to unknown.
*/


function getMonthName(mo) {
  mo = mo - 1; // Adjust month number for array index (1 = Jan, 12 = Dec)
  var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul',
                'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];
  if (months[mo]) {
    return months[mo];
  } else {
        if(mo == "")  throw "empty";
		mo = Number(mo);
        if(isNaN(mo)) throw "not a number";       
        if(mo < 0)    throw "too low";
        if(mo > 11)   
			throw "too high";	
		else
			throw 'InvalidMonthNo'; //throw keyword is used here
  }
}

var mesg = document.getElementById("mesg");
// event-driven
document.getElementById("test").onclick = function () {
	try { // statements to try
		var myMonth = document.getElementById("demo").value;
		// function could throw exception
		monthName = getMonthName(myMonth); 		
		mesg.innerText += "\n month value is valid " + monthName;
		console.log("month value is valid", monthName);
	}
	catch (e) {
		monthName = 'unknown';
		// pass exception object to error handler -> your own function
		logMyErrors(e); 
	}

	function logMyErrors(e) {
		mesg.innerText += "\n" + e;
		console.log(e);
	}
};
</script>

</body>
</html>