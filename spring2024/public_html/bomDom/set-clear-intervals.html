<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Worksheet Three Exercises</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!--
  Author: Ellen Bajcar
  Date created: May 18, 2017
  Date updated: February 8, 2024
  Version: 24.0
  Copyright: 
    This work is the intellectual property of Sheridan College. 
    Any further copying and distribution outside of class must be within 
    the copyright law. Posting to commercial sites for profit is prohibited.
  Purpose: 
    Explore and practice unobtrusive Javascript, HTML5, CSS3, and progressive enhancement	
  Description:	
      class example
  -->    
    <link rel="stylesheet" href="https://unpkg.com/missing.css@1.0.9/dist/missing.min.css">
    <link rel="stylesheet" href="https://ebajcar.github.io/web10199/content_winter2024/css/prism_coy_dev.css">
    <script src="https://ebajcar.github.io/web10199/content_winter2024/scripts/prism-coy-23.js" defer></script>
	<link href="https://fonts.bunny.net/css?family=source-sans-3:400,700|m-plus-code-latin:400,700" rel="stylesheet">
<style>
:root {
    --main-font: "Source Sans 3", -apple-system, system-ui, sans-serif;
    --line-length: 60rem; /* Maximum line length for prose. */
}
dfn > code {
    font-style: normal;
    text-decoration: 1px dashed var(--muted-fg) underline;
}
code a {
    font-family: inherit;
}
.current {
    font-weight: bold;
}        

        .big-value {
          font-size: 4em;
          font-weight: normal;
          text-align: left;
          text-shadow: 2px 2px 2px gray;
          padding-bottom: 20px;
        }
        /*
        https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/number
        
        */
        input:invalid + span::after {
          content: "✖";
          padding-left: 5px;
          color: lightgray;
        }

        input:valid + span::after {
          content: "✓";
          padding-left: 5px;
          color: gray;
        }
        select {
          width: 100%;
        }
        

.loader {
	margin: 14px auto;
	border: 6px solid #f3f3f3;
	border-radius: 50%;
	border-top: 6px solid #3498db;
	width: 30px;
	height: 30px;
	-webkit-animation: spin 2s linear infinite;
	animation: spin 2s linear infinite;

}

@-webkit-keyframes spin {
	0% { -webkit-transform: rotate(0deg); }
	100% { -webkit-transform: rotate(360deg); }
}

@keyframes spin {
	0% { transform: rotate(0deg); }
	100% { transform: rotate(360deg); }
}
#myProgress {
	margin: auto;
    position: relative;
    width: 20%;
    height: 30px;
    background-color: lightgrey;
}
#myBar {
    position: absolute;
    width: 1%;
    height: 100%;
    background-color: orange;
}
/* If you want the label inside the progress bar */
#label {
    text-align: center; /* If you want to center it */
    line-height: 30px; /* Set the line-height to the same as the height of 
			the progress bar container, to center it vertically */
    color: white;
}   
#output {
    text-align:  center;
}    
	</style>
</head>
<body>

	<header>
        <h1><span class="allcaps">Web Programming</span> <sub-title>Worksheet Three</sub-title></h1>
    </header>

    <main>
        <h2>Functions  - <small>explore properties and methods</small></h2>

    <p><a class="chip" href="https://developer.mozilla.org/en-US/docs/Web/API/setInterval" target="_blank">setInterval()</a> (global function), a method offered on the Window and WorkerGlobalScope interfaces, repeatedly calls a function or executes a code snippet, with a fixed time delay between each call. The returned intervalID is a numeric, non-zero value which identifies the timer created by the call to setInterval(); this value can be passed to clearInterval() to cancel the interval.</p>
    <p><a class="chip warn" href="" target="_blank">clearInterval()</a></p>
    <p><a class="chip ok" href="" target="_blank">setTimeout()</a></p>       
        
    <p>Functions — reusable blocks of code. Read more <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Functions" target="_blank">MDN web docs</a>. Some selected ones:</p>
 https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Functions
https://developer.mozilla.org/en-US/docs/Glossary/Callback_function

        
<ul role="list" class="f-switch dense">
    <li class="box">  
	<h1>Callback Example with setTimeout and loader</h1>
	
	<div class="loader" id="loader"></div>
	
	<div id="output"></div>
	
	<div id="myProgress">
		  <div id="myBar">
			    <div id="label">10%</div>
		  </div>
	</div>
    </li>  
</ul>
	

<ul role="list" class="f-switch dense">
    <li class="box">
     <h4>Example functions</h4>
                <pre class="language-js" tabindex="0"><code class="language-js">// explore seTimeout and loaders
function move() {
  var elem = document.getElementById("myBar");   
  var width = 10;
  var id = setInterval(frame, 50);
  function frame() {
    if (width >= 100) {
      clearInterval(id);
    } else {
      width++; 
      elem.style.width = width + '%'; 
      document.getElementById("label").innerHTML = width * 1  + '%';
    }
  }
}

// starting doing something
document.getElementById('output').innerText += ('loading ...');

// Wait 5 seconds before firing the writeEnding() function
// note this is listed here, but delayed until  the move() is done
var myTimer = window.setTimeout(writeEnding, 5000);
document.getElementById('output').innerText += ('continuing to load ...');
move();

// Define the Write Ending Function
function writeEnding() {
  // Write "ending!"
  document.getElementById('output').innerText += ('done!');
	 document.getElementById("loader").style.display = "none";
	 //document.getElementById("myProgress").style.display = "none";
  clearInterval(myTimer);
}</code></pre>    
        <div id="snippet"></div>
    </li>
</ul> 
		
    </main>
   <footer>
        <address>Ellen Bajcar &copy; Sheridan College</address>
        <p>The materials provided in class and in SLATE are protected by copyright. They are intended for the personal, educational uses of students in this course and should not be shared externally or on websites such as Course Hero or OneClass. Unauthorized distribution may result in copyright infringement and violation of Sheridan policies.</p>
    </footer>

<script>
/*
  PROBLEM: 
  
  SOLUTION: 
  1. Get (pick) a number 
  2. define a function that 
  3. Call the function
  4. display the result in the console.
*/
// explore seTimeout and loaders
function move() {
  let elem = document.getElementById("myBar");   
  let width = 10;
  let id = setInterval(frame, 50);
  function frame() {
    if (width >= 100) {
      clearInterval(id);
    } else {
      width++; 
      elem.style.width = width + '%'; 
      document.getElementById("label").innerHTML = width * 1  + '%';
    }
  }
}

// starting doing something
document.getElementById('output').innerHTML += ('loading ...');

// Wait 5 seconds before firing the writeEnding() function
// note this is listed here, but delayed until  the move() is done
var myTimer = window.setTimeout(writeEnding, 5000);

document.getElementById('output').innerText += ('continuing to load ...');

move();

// Define the Write Ending Function
function writeEnding() {
  // Write "ending!"
  document.getElementById('output').innerHTML += ('done!');
	document.getElementById("loader").style.display = "none";
	//document.getElementById("myProgress").style.display = "none";
  clearInterval(myTimer);
}

</script>
</body>
</html>